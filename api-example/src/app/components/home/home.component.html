<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <mat-toolbar color="primary">
    Welcome {{user}}!
    <div class="spacer"></div>
    Today you're a {{states[i]}}
    <div class="spacer"></div>
    <a class="btn btn-default" (click)="switch()"> Switch</a>
    <a [routerLink]="['/login']" class="btn btn-primary">Logout</a>
  </mat-toolbar>
  </div>
</div>
<br>
  <div class="row">
  <div class="col-xs-12 col-sm-5 col-md-6 col-lg-6">
    <app-stepper [state]="state" (triggerRequest)="sendRequestToSearch($event)"></app-stepper>
    <br>
    <mat-tab-group class="external-card" #tabGroup>
      <mat-tab>
        <ng-template mat-tab-label>
          Manage
        </ng-template>
        <mat-expansion-panel>
          <mat-expansion-panel-header>Manage your directions as a {{state}}.</mat-expansion-panel-header>
          <mat-slide-toggle color="primary" [checked]="toggle" (change)="showAll()">Toggle to show / hide expired</mat-slide-toggle>
          <div id="coordinates-container-scroll">
            <mat-card *ngFor="let coordinate of filterCoordinatesByState(true)">
              <b>From </b> {{coordinate.addressStart}}
              <p></p>
              <b> to </b> {{coordinate.addressEnd}}
              <p></p>
              <b>Expire time </b> {{coordinate.endTime}}
              <mat-card-actions align="right">
                <mat-icon (click)="update($event, coordinate); $event.stopPropagation()">
                  mode_edit
                </mat-icon>
                <mat-icon onclick="demo.showNotification('bottom', 'right', 'Successfully removed!')"
                          (click)="delete($event, coordinate.id); $event.stopPropagation()">
                  delete
                </mat-icon>
              </mat-card-actions>
            </mat-card>
          </div>
        </mat-expansion-panel>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          View available {{offReq}}
        </ng-template>
        <mat-expansion-panel (opened)="sendRequestToSearch()" #expansionSearch>
          <mat-expansion-panel-header>
            <mat-panel-title> Look for {{offReq}}</mat-panel-title>
            <mat-panel-description>Please mark a start and an end point on the map
            </mat-panel-description>
          </mat-expansion-panel-header>
          <mat-slide-toggle [checked]="toggle2" color="primary" (change)="getAllAvailableReq()">Toggle to hide / show all existing {{offReq}}</mat-slide-toggle>
          <div id="coordinates-container-scroll2">
          <mat-card *ngFor="let coordinate of filterCoordinatesByState(false)" (click)="">
              <b>From </b> {{coordinate.addressStart}}
              <p></p>
              <b> to </b> {{coordinate.addressEnd}}
              <p></p>
              <b>Expires </b> {{coordinate.endTime}}
              <p></p>
              <b>Phone number </b> {{coordinate.phoneNumber}}
            </mat-card>
          </div>
        </mat-expansion-panel>
      </mat-tab>
    </mat-tab-group>
  </div>
    <div id="myMap" class="col-xs-12 col-sm-7 col-md-6 col-lg-6">
      <app-map ></app-map>
    </div>

</div>
